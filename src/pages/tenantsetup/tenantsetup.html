<!--
  Generated template for the TenantsetupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>TENANT SETUP</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-fab top right edge>
        <button ion-fab mini (click)="AddTenantClick()">
            <ion-icon name="add"></ion-icon>
        </button>
    </ion-fab>



    <div class="eClaimSubTitle">
        <b>ACCOUNT DETAILS</b>
    </div>
    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">
           
                    <th class="lgl1 tblBrLeft">TENANT ACCOUNT NAME</th>
                    <th class="lgl1">TENANNT COMPANY NAME</th>
                    <th class="lgl1">EFFECTIVE DATE</th>
                    <th class="lgl1">ACTIVE FLAG</th>
                    <th class="lgl1 tblBrRight" style="width:120px">ACTION</th>
                </tr>

                <tr class="col7" *ngFor="let tenant of tenants; let i=index">
          
                    <td class="lgl1">AIR ASIA BERHAD</td>
                    <td class="lgl1">AIR ASIA MALAYSIA</td>
                    <td class="lgl1">23 - 4- 2222</td>
                    <td class="lgl1">
                        <ion-toggle checked=true></ion-toggle>
                    </td>

                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="AddTUserClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-person-add"></ion-icon>
                        </button>
                    </td>
                </tr>
            </table>
        </ion-item>
    </ion-list>

    <div class="eClaimSubTitle">
        <b>HQ DETAILS</b>
    </div>
    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">
    
                    <th class="lgl1 tblBrLeft">ADDRESS</th>
                    <th class="lgl1">EMAIL</th>
                    <th class="lgl1">CONTACT NUMBER</th>
                    <th class="lgl1">WEBSITE</th>

                    <th class="lgl1 tblBrRight" style="width:90px">ACTION</th>

                </tr>

                <tr class="col7" *ngFor="let tenant of tenants; let i=index">
    
                    <td class="lgl1">{{tenant.ADDRESS}}</td>
                    <td class="lgl1">{{tenant.EMAIL}}</td>
                    <td class="lgl1">{{tenant.CONTACT_NO}}</td>
                    <td class="lgl1">{{tenant.WEBSITE}}</td>

                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                    </td>
                </tr>


            </table>
        </ion-item>
    </ion-list>


    <div class="eClaimSubTitle">
        <b>CONTACT DETAILS</b>
    </div>
    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">
             
                    <th class="lgl1 tblBrLeft">NAME</th>
                    <th class="lgl1">CONTACT NUMBER</th>
                    <th class="lgl1">EMAIL</th>
                    <th class="lgl1 tblBrRight" style="width:90px">ACTION</th>

                </tr>

                <tr class="col7" *ngFor="let tenant of tenants; let i=index">
              
                    <td class="lgl1">{{tenant.CONTACT_PERSON}}</td>
                    <td class="lgl1">{{tenant.CONTACT_PERSON_CONTACT_NO}}</td>
                    <td class="lgl1">{{tenant.CONTACT_PERSON_EMAIL}}</td>


                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(tenant.TENANT_COMPANY_SITE_GUID)">
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                    </td>
                </tr>


            </table>
        </ion-item>
    </ion-list>



    <!-- add Tenant form start-->
    <div class="blackcontainer" *ngIf="AddTenantClicked"></div>
    <div class="popup" padding *ngIf="AddTenantClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">REGISTER NEW TENANT</div>
                <button class="btnR" (click)="CloseTenantClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-card-header>
            <ion-list class="scroll">
                <form [formGroup]="Tenantform">

                    <div class="eClaimSubTitle1">
                        <b>ACCOUNT DETAILS</b>
                    </div>
                    <ion-item>
                        <ion-label stacked>{{"NAME"}}</ion-label>
                        <ion-input type="text" formControlName="TENANT_NAME" [(ngModel)]="TENANT_NAME_ngModel_Add" placeholder="{{'Please fill in the name of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"EFFECTIVE DATE"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" placeholder="{{'Please choose your effective date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"COMPANY NAME"}}</ion-label>
                        <ion-input type="text" formControlName="TENANT_COMPANY_NAME" [(ngModel)]="TENANT_COMPANY_NAME_ngModel_Add" placeholder="{{'Please fill in the company name of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"SITE NAME"}}</ion-label>
                        <ion-input type="text" formControlName="COMPANY_SITE_NAME" [(ngModel)]="COMPANY_SITE_NAME_ngModel_Add" placeholder="{{'Please fill in the site name of the company'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"REGISTRATION NO"}}</ion-label>
                        <ion-input type="text" formControlName="REGISTRATION_NUM" [(ngModel)]="REGISTRATION_NUM_ngModel_Add" placeholder="{{'Please fill registration no'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS 1"}}</ion-label>
                        <ion-input type="text" formControlName="ADDRESS1" [(ngModel)]="ADDRESS1_ngModel_Add" placeholder="{{'Please fill in the Address 1'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS 2"}}</ion-label>
                        <ion-input type="text" formControlName="ADDRESS2" [(ngModel)]="ADDRESS2_ngModel_Add" placeholder="{{'Please fill in the Address 2'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS 3"}}</ion-label>
                        <ion-input type="text" formControlName="ADDRESS3" [(ngModel)]="ADDRESS3_ngModel_Add" placeholder="{{'Please fill in the Address 3'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"CONTACT NO"}}</ion-label>
                        <ion-input type="number" formControlName="CONTACT_NO" type="number" [(ngModel)]="CONTACTNO_ngModel_Add" placeholder="{{'Please fill contact No'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"E-MAIL"}}</ion-label>
                        <ion-input type="text" formControlName="EMAIL" [(ngModel)]="EMAIL_ngModel_Add" placeholder="{{'Please fill E-Mail'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"CONTACT PERSON"}}</ion-label>
                        <ion-input type="text" formControlName="CONTACT_PERSON" [(ngModel)]="CONTACT_PERSON_ngModel_Add" placeholder="{{'Please fill contact person'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"CONTACT PERSON NO"}}</ion-label>
                        <ion-input type="number" formControlName="CONTACT_PERSON_NO" [(ngModel)]="CONTACT_PERSON_NO_ngModel_Add" placeholder="{{'Please fill contact person No'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"CONTACT PERSON EMAIL"}}</ion-label>
                        <ion-input type="text" formControlName="CONTACT_PERSON_EMAIL" [(ngModel)]="CONTACT_PERSON_EMAIL_ngModel_Add" placeholder="{{'Please fill contact person email'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"WEBSITE"}}</ion-label>
                        <ion-input type="text" formControlName="WEBSITE" [(ngModel)]="WEBSITE_ngModel_Add" placeholder="{{'Please fill website'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"IS HQ"}}</ion-label>
                        <ion-toggle formControlName="ISHQ_FLAG" [(ngModel)]="ISHQ_FLAG_ngModel_Add"></ion-toggle>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ACTIVE FLAG"}}</ion-label>
                        <ion-toggle formControlName="ACTIVE_FLAG" [(ngModel)]="ACTIVE_FLAG_ngModel_Add"></ion-toggle>
                    </ion-item>

                    <div class="btn">
                        <button ion-button class="bgColor-grey fontColor-white btnStyle1" [disabled]="!Tenantform.valid" (click)="Save()">{{"SUBMIT" | translate}}</button>
                    </div>

                </form>
            </ion-list>
        </ion-card>

    </div>
    <!-- add Tenant form end-->


    <!-- edit Tenant form start-->
    <div class="blackcontainer" *ngIf="EditTenantClicked">
    </div>
    <div class="popup" padding *ngIf="EditTenantClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">UPDATE TENANT</div>
                <button class="btnR" (click)="CloseTenantClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-card-header>
            <ion-list class="scroll">
                <form [formGroup]="Tenantform">


                    <ion-item>
                        <ion-label stacked>{{"NAME"}}</ion-label>
                        <ion-input type="text" formControlName="SITE_NAME" [(ngModel)]="SITE_NAME_ngModel_Edit" placeholder="{{'Please fill in the company name of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"EFFECTIVE DATE"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" placeholder="{{'Please choose your effective date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ACTIVE FLAG"}}</ion-label>
                        <ion-toggle></ion-toggle>

                    </ion-item>

                    <div class="btn">
                        <button ion-button class="bgColor-grey fontColor-white btnStyle1" (click)="!Update(tenant_details.TENANT_COMPANY_SITE_GUID)">{{"SUBMIT" | translate}}</button>
                    </div>

                </form>
            </ion-list>
        </ion-card>

    </div>
    <!-- edit Tenant form end-->
    

    <!-- add TUser start-->
    <div class="blackcontainer" *ngIf="AddTUserClicked">
    </div>
    <div class="popup" padding *ngIf="AddTUserClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">ADD USER</div>
                <button class="btnR" (click)="CloseTUserClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>

            </ion-card-header>
            <ion-list class="scroll">
                <ion-item>
                    <button ion-button item-end>
                        <ion-icon name="md-person-add" (click)="AddTTUserClick()"></ion-icon>
                    </button>
                </ion-item>
                <ion-item>

                    <table class="Tabler">
                        <tr class="linedsg TColor">
                            <th class="lgl1 tblBrLeft" style="width:40px">NO.</th>
                            <!-- <th class="lgl1">Tenant GUID</th> -->
                            <th class="lgl1">USER LOGIN ID</th>
                            <th class="lgl1">PASSWORD</th>
                            <th class="lgl1">EMAIL</th>
                            <th class="lgl1">USER ROLE</th>
                            <th class="lgl1 tblBrRight">ACTION</th>

                        </tr>

                        <tr class="col7" *ngFor="let tenantuser of tenantusers; let i=index">
                            <td class="lgl1">{{i+1}}</td>
                            <!-- <td class="lgl1">{{tenantuser.TENANT_GUID}}</td> -->
                            <td class="lgl1">{{tenantuser.LOGIN_ID}}</td>
                            <td class="lgl1">{{tenantuser.PASSWORD}}</td>
                            <td class="lgl1">{{tenantuser.EMAIL}}</td>
                            <td class="lgl1">ADMIN </td>
                            <td class="lgl1 fColor">
                                <button ion-button item-end>
                                    <ion-icon name="md-create"></ion-icon>
                                </button>
                                <button ion-button item-end>
                                    <ion-icon name="md-close"></ion-icon>
                                </button>

                            </td>
                        </tr>


                    </table>
                </ion-item>
            </ion-list>
        </ion-card>

    </div>
    <!-- add TUser end-->


    <!-- add tuser form start-->
    <div class="blackcontainer" *ngIf="AddTTUserClicked">
    </div>
    <div class="popup" padding *ngIf="AddTTUserClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">ASSIGN USER</div>
                <button class="btnR" (click)="CloseTTUserClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-card-header>
            <ion-list class="scroll">
                <form [formGroup]="TenantUSerform">
                    <ion-item>
                        <!-- <ion-label formControlName="TUTENANTID" [(ngModel)]="User_Tenantid_ngModel_Add" style="display: none"></ion-label> -->
                        <ion-label stacked>USER LOGIN ID</ion-label>
                        <ion-input type="text" formControlName="TULOGINID" [(ngModel)]="User_Loginid_ngModel_Add" placeholder="{{'Please fill in the user login ID'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>PASSWORD</ion-label>
                        <ion-input type="password" formControlName="TUPASSWORD" [(ngModel)]="User_Password_ngModel_Add" placeholder="{{'Please fill in the login password'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>EMAIL</ion-label>
                        <ion-input type="text" formControlName="TUEMAIL" [(ngModel)]="User_Email_ngModel_Add" placeholder="{{'Please fill in the email of the user'}}"></ion-input>

                    </ion-item>

                    <ion-item>
                        <ion-label stacked>USER ROLE</ion-label>
                        <ion-input type="text" formControlName="TUSERROLE" [(ngModel)]="User_Role_ngModel_Add" placeholder="{{'Please fill in the role of the user'}}"></ion-input>

                    </ion-item>


                    <div class="btn">
                        <button ion-button class="bgColor-grey fontColor-white btnStyle1" (click)="Save_Tenant_User()">{{"SUBMIT" | translate}}</button>
                    </div>
                </form>

            </ion-list>
        </ion-card>

    </div>
    <!-- add tuser form end-->
</ion-content>