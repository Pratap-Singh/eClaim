<!--
  Generated template for the AttendanceReportPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Attendance Report</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item class="fuha">
    <ion-label>User Name:</ion-label>
    <ion-select interface="popover" #ddlUserName>
      <ion-option [value]="All" [selected]="true">All</ion-option>
      <ion-option *ngFor="let emp of employeeList" [value]="emp.STAFF_ID">{{emp.FULLNAME}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item class="fuha">
    <ion-label> Month :</ion-label>
    <ion-select interface="popover" #ddlmonth>
      <ion-option [value]="All" [selected]="true">All</ion-option>
      <ion-option value="1">Jan</ion-option>
      <ion-option value="2">Feb</ion-option>
      <ion-option value="3">Mar</ion-option>
      <ion-option value="4">Apr</ion-option>
      <ion-option value="5">May</ion-option>
      <ion-option value="6">Jun</ion-option>
      <ion-option value="7">Jul</ion-option>
      <ion-option value="8">Aug</ion-option>
      <ion-option value="9">Sep</ion-option>
      <ion-option value="10">Oct</ion-option>
      <ion-option value="11">Nov</ion-option>
      <ion-option value="12">Dec</ion-option>
    </ion-select>
  </ion-item>


  <ion-item class="fuha">
    <ion-label>Year:</ion-label>
    <ion-select [(ngModel)]="currentYear" interface="popover" #ddlYear>
      <ion-option *ngFor="let year of yearsList" [value]="year">{{year}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <button ion-button item-end (click)="BindData(ddlUserName.value,ddlmonth.value)">Search</button>
  </ion-item>

  <ion-list>
    <ion-item>
      <table class="Tabler list">
        <tr class="linedsg TColor">
          <th class="lgl1 tblBrLeft" style="width:60px">No.</th>
          <th class="lgl1">User Name</th>
          <th class="lgl1">Date</th>
          <th class="lgl1">In Time</th>
          <th class="lgl1">Out Time</th>
          <th class="lgl1">Working Hours</th>  
        </tr>

        <tr class="col7" *ngFor="let item of attendanceData | paginate:{itemsPerPage: 20, currentPage:page, id: 'i' }; let i=index">
          <td class="lgl1" reshead="No."> {{ 20 * (page - 1) + i+1 }}</td>
          <td class="lgl1 getHeader" reshead="Claim Type">{{item.FULLNAME}}</td>
          <td class="lgl1 getHeader" reshead="Date">{{item.ATTENDANCE_DATE | date: 'dd/MM/yyyy'}}</td>
          <td class="lgl1 getHeader" reshead="Status">{{item.IN_TS | date: 'HH:MM:SS'}}</td>
          <td class="lgl1 getHeader" reshead="Stage">{{item.OUT_TS | date: 'HH:MM:SS'}}</td>
          <td class="lgl1 getHeader" reshead="Stage" *ngIf="item.HALF_DAY_DATE!='NA'">{{item.WORKING_HOURS}}</td>
        </tr>
      </table>
      <pagination-controls style=" text-align: center;" (pageChange)="page=$event" id="i" maxSize="20" directionLinks="true" autoHide="true">
      </pagination-controls>
    </ion-item>
  </ion-list>

</ion-content>
