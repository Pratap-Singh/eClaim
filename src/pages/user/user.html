<!--
  Generated template for the UserPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>{{ 'USER_REGISTRATION_HEADING' | translate }}</ion-title>
    </ion-navbar>
    <ion-toolbar no-border-top>
        <ion-searchbar color="primary" placeholder="Search"></ion-searchbar>
    </ion-toolbar>
</ion-header>


<ion-content padding>

    <ion-fab top right edge>
        <button ion-fab mini (click)="AddUserClick()">
            <ion-icon name="add"></ion-icon>
        </button>
    </ion-fab>

    <div class="eClaimSubTitle">
        <b>{{ 'PERSONAL_DETAILS' | translate }}</b>
    </div>

    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">

                    <th class="lgl1 tblBrLeft">No.</th>
                    <th class="lgl1">{{ 'NAME' | translate }}</th>
                    <th class="lgl1">{{ 'EMAIL' | translate }}</th>
                    <th class="lgl1">{{ 'LOGINID' | translate }}</th>

                    <th class="lgl1 tblBrRight">{{ 'ACTION' | translate }}</th>
                </tr>

                <tr class="col7" *ngFor="let user of userview; let i=index">

                    <td class="lgl1">{{i+1}}</td>
                    <td class="lgl1">{{user.FULLNAME}}</td>
                    <td class="lgl1">{{user.EMAIL}}</td>
                    <td class="lgl1">{{user.LOGIN_ID}}</td>


                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick_Personaldetails(user.USER_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(user.USER_GUID)">
                            <!-- DeleteClick(user.USER_GUID) -->
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                    </td>
                </tr>

            </table>
        </ion-item>
    </ion-list>

    <div class="eClaimSubTitle">
        <b>{{ 'EMPLOYMENT_DETAILS' | translate }} </b>
    </div>

    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">
                    <th class="lgl1 tblBrLeft">No.</th>
                    <th class="lgl1">{{ 'DESIGNATION' | translate }}</th>
                    <th class="lgl1">{{ 'COMPANY' | translate }}</th>
                    <th class="lgl1">{{ 'DEPARTMENT' | translate }}</th>
                    <th class="lgl1">{{ 'JOIN_DATE' | translate }}</th>
                    <th class="lgl1">{{ 'BRANCH' | translate }}</th>
                    <!-- <th class="lgl1">APPROVER</th> -->
                    <th class="lgl1">{{ 'STATUS' | translate }} </th>
                    <th class="lgl1 tblBrRight">{{ 'ACTION' | translate }}</th>
                </tr>

                <tr class="col7" *ngFor="let user of userview; let i=index">
                    <td class="lgl1">{{i+1}}</td>
                    <td class="lgl1">{{user.designation_name}}</td>
                    <td class="lgl1">{{user.tenant_company_name}}</td>
                    <td class="lgl1">{{user.department_name}}</td>
                    <td class="lgl1">{{user.JOIN_DATE}}</td>
                    <td class="lgl1">{{user.SITE_NAME}}</td>
                    <!-- <td class="lgl1">{{user.APPROVER1}}</td> -->
                    <td class="lgl1">{{user.EMPLOYEE_STATUS}}</td>
                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick_Personaldetails(user.USER_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(user.USER_GUID)">
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                    </td>
                </tr>


            </table>
        </ion-item>
    </ion-list>

    <div class="eClaimSubTitle">
        <b>{{ 'RESIDENTIAL_ADDRESS' | translate }}</b>
    </div>

    <ion-list>
        <ion-item>
            <table class="Tabler">
                <tr class="linedsg TColor">

                    <th class="lgl1 tblBrLeft">No.</th>
                    <th class="lgl1">{{ 'ADDRESS_LINE_1' | translate }}</th>
                    <th class="lgl1">{{ 'ADDRESS_LINE_2' | translate }}</th>
                    <th class="lgl1">{{ 'ADDRESS_LINE_3' | translate }}</th>
                    <th class="lgl1 tblBrRight">{{ 'ACTION' | translate }}</th>
                </tr>

                <tr class="col7" *ngFor="let user of userview; let i=index">

                    <td class="lgl1">{{i+1}}</td>
                    <td class="lgl1">{{user.USER_ADDRESS1}}</td>
                    <td class="lgl1">{{user.USER_ADDRESS2}}</td>
                    <td class="lgl1">{{user.USER_ADDRESS3}}</td>


                    <td class="lgl1 fColor">
                        <button ion-button item-end (click)="EditClick_Personaldetails(user.USER_GUID)">
                            <ion-icon name="md-create"></ion-icon>
                        </button>
                        <button ion-button item-end (click)="DeleteClick(user.USER_GUID)">
                            <ion-icon name="md-close"></ion-icon>
                        </button>
                    </td>
                </tr>


            </table>
        </ion-item>
    </ion-list> 


    <!-- add Tenant form start-->
    <div class="blackcontainer" *ngIf="AddUserClicked"></div>
    <div class="popup1" padding *ngIf="AddUserClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">{{ 'REGISTER_NEW_USER' | translate }} </div>
                <button class="btnR" (click)="CloseUserClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-card-header>
            <ion-list class="scroll">
                <form [formGroup]="Userform">

                    <div class="eClaimSubTitle1">
                        <b>PERSONAL DETAILS</b>
                    </div>
                    <ion-item class="text">
                        <ion-label stacked>{{ 'NAME' | translate }}</ion-label>
                        <ion-input type="text" formControlName="NAME" [(ngModel)]="User_Name_ngModel" placeholder="{{'Please fill the name of the user'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'EMAIL' | translate }}</ion-label>
                        <ion-input type="text" formControlName="EMAIL" [(ngModel)]="User_Email_ngModel" placeholder="{{'Please fill the email of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'LOGINID' | translate }}</ion-label>
                        <ion-input type="text" formControlName="LOGIN_ID" [(ngModel)]="User_LoginId_ngModel" placeholder="{{'Please fill the Login ID'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'PASSWORD' | translate }}</ion-label>
                        <ion-input type="password" formControlName="PASSWORD" [(ngModel)]="User_Password_ngModel" placeholder="{{'Please fill the Password'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'PERSONAL_CONTACT_NO' | translate }}</ion-label>
                        <ion-input type="text" formControlName="CONTACT_NO" [(ngModel)]="User_PersonalNo_ngModel" placeholder="{{'Please fill the personal contact number'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'COMAPANY_CONTACT_NO' | translate }}</ion-label>
                        <ion-input type="text" formControlName="COMPANY_CONTACT_NO" [(ngModel)]="User_CompanyNo_ngModel" placeholder="{{'Please fill in the Company Contact No'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'MARITAL_STATUS' | translate }}</ion-label>
                        <ion-select formControlName="MARITAL_STATUS" [(ngModel)]="User_Marital_ngModel" placeholder="{{'Please select marital status'}}">
                            <ion-option [value]="0">SINGLE</ion-option>
                            <ion-option [value]="1">MARRIED</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'STAFF_ID' | translate }}</ion-label>
                        <ion-input type="text" formControlName="PERSONAL_ID_TYPE" [(ngModel)]="User_StaffID_ngModel" placeholder="{{'Please fill the staff id'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'IC_NO' | translate }}</ion-label>
                        <ion-input type="text" formControlName="PERSONAL_ID" [(ngModel)]="User_ICNo_ngModel" placeholder="{{'Please fill the ic no'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'DATE_OF_BIRTH' | translate }}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="DOB" [(ngModel)]="User_DOB_ngModel" placeholder="{{'Please choose your date of birth'}}"></ion-datetime>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{'GENDER' | translate}}</ion-label>
                        <ion-select formControlName="GENDER" [(ngModel)]="User_Gender_ngModel" placeholder="{{'Please select the gender'}}">
                            <ion-option [value]="1">MALE</ion-option>
                            <ion-option [value]="0">FEMALE</ion-option>
                        </ion-select>
                    </ion-item>


                    <!-- <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage}}" style="width: 20%">
                    </ion-item>
                    <button ion-button icon-left (click)="UploadProfilePicture()" [disabled]="ProfileImage === null">
                        <ion-icon name="cloud-upload"></ion-icon>Upload
                    </button> -->

                    <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>
                        <!-- <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input> -->
                        <ion-input type="file" id="avatar1"  (change)="ProfileImageDisplay($event, 'avatar1')"  #fileInput></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage}}" style="width: 20%">
                    </ion-item>
                    <!-- <button ion-button icon-left (click)="UploadProfilePicture()" [disabled]="ProfileImage === null">
                        <ion-icon name="cloud-upload"></ion-icon>Upload
                    </button> -->

                    <!-- <label for="avatar">Avatar</label> -->
                    <!-- <div class="form-group">   -->                      

                    <div class="form-group">
                        <!-- <label for="avatar">Avatar</label> -->

                        <input type="file" id="avatar1" (change)="onFileChange($event, 'avatar1')" #fileInput>
                        <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">clear file</button>
                      </div>


                    <div class="eClaimSubTitle2">
                        <b>{{ 'EMPLOYMENT_DETAILS' | translate }} </b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'DESIGNATION' | translate }}</ion-label>
                        <ion-select formControlName="DESIGNATION_GUID" [(ngModel)]="User_Designation_ngModel" placeholder="{{'Please fill the designation'}}">
                            <ion-option *ngFor="let designation of designations" [value]="designation.DESIGNATION_GUID" selected="true">{{designation.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'COMPANY' | translate }}</ion-label>
                        <ion-select formControlName="TENANT_COMPANY_GUID" [(ngModel)]="User_Company_ngModel" placeholder="{{'Please fill the company'}}"
                            (ionChange)="GetBranch('tenant_company_site', User_Company_ngModel,'SITE_NAME')">
                            <ion-option *ngFor="let company of companies" [value]="company.TENANT_COMPANY_GUID" selected="true">{{company.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'DEPARTMENT' | translate }}</ion-label>
                        <ion-select formControlName="DEPT_GUID" [(ngModel)]="User_Department_ngModel" placeholder="{{'Please fill in the Department'}}">
                            <ion-option *ngFor="let department of departments" [value]="department.DEPARTMENT_GUID" selected="true">{{department.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'JOIN_DATE' | translate }}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="JOIN_DATE" [(ngModel)]="User_JoinDate_ngModel" placeholder="{{'Please fill the joining date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'CONFIRMATION_DATE' | translate }}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="CONFIRMATION_DATE" [(ngModel)]="User_ConfirmationDate_ngModel"
                            placeholder="{{'Please fill the confermation date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'RESIGNATION_DATE' | translate }}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="RESIGNATION_DATE" [(ngModel)]="User_ResignationDate_ngModel" placeholder="{{'Please fill the Registration date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'BRANCH' | translate }}</ion-label>
                        <ion-select formControlName="BRANCH" [(ngModel)]="User_Branch_ngModel" placeholder="{{'Please select Branch'}}">
                            <ion-option *ngFor="let branch of branches" [value]="branch.TENANT_COMPANY_SITE_GUID" selected="true">{{branch.SITE_NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'EMPLOYEE_TYPE' | translate }}</ion-label>
                        <ion-select formControlName="EMPLOYEE_TYPE" [(ngModel)]="User_EmployeeType_ngModel" placeholder="{{'Please fill in the Employee Type'}}">
                            <ion-option value="0">Permanent</ion-option>
                            <ion-option value="1">Contract</ion-option>
                            <ion-option value="2">Temporary</ion-option>
                        </ion-select>
                    </ion-item>

                    <!-- <ion-item class="text">
                        <ion-label stacked>{{"APPROVER1"}}</ion-label>
                        <ion-input type="text" formControlName="APPROVER1" [(ngModel)]="User_Approver1_ngModel" placeholder="{{'Please fill in the Email'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"APPROVER2"}}</ion-label>
                        <ion-input type="text" formControlName="APPROVER2" [(ngModel)]="User_Approver2_ngModel" placeholder="{{'Please fill in the Email'}}"></ion-input>
                    </ion-item> -->

                    <ion-item class="text">
                        <ion-label stacked>{{ 'EMPLOYEE_STATUS' | translate }}</ion-label>
                        <ion-select formControlName="EMPLOYEE_STATUS" [(ngModel)]="User_Employment_ngModel" placeholder="{{'Please select employement status'}}">
                            <ion-option value="0">Probation</ion-option>
                            <ion-option value="1">Confirmed</ion-option>
                            <ion-option value="2">Terminated</ion-option>
                        </ion-select>
                    </ion-item>








                    <div class="eClaimSubTitle2">
                        <b>{{ 'EDUCATIONAL_QUALIFICATION' | translate }} </b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'HIGHEST_QUALIFICATION' | translate }}</ion-label>
                        <ion-select formControlName="HIGHEST_QUALIFICATION" [(ngModel)]="User_HighestQualification_ngModel" placeholder="{{'Select Highest Qualification'}}">
                            <ion-option *ngFor="let qualification of qualifications" value="{{qualification.QUALIFICATION_TYPE_GUID}}">{{qualification.TYPE_NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'UNIVERSITY' | translate }}</ion-label>
                        <ion-input type="text" formControlName="UNIVERSITY" [(ngModel)]="User_University_ngModel" placeholder="{{'Please fill the University'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{ 'MAJOR' | translate }}</ion-label>
                        <ion-input type="text" formControlName="MAJOR" [(ngModel)]="User_Major_ngModel" placeholder="{{'Please fill the Major'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"YEAR"}}</ion-label>
                        <ion-input type="text" formControlName="EDU_YEAR" [(ngModel)]="User_EduYear_ngModel" placeholder="{{'Please fill the Year'}}"></ion-input>
                    </ion-item>

                    <!-- <ion-item>
                        <ion-label id="certificate_image" color="primary" stacked>ATTACHEMENT</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item>
                    <button ion-button icon-left (click)="UploadCertificate()">
                        <ion-icon name="cloud-upload"></ion-icon>ATTACH
                    </button> -->

                    <!-- <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                        <ion-input type="file" id="avatar2" accept="image/*" (change)="ProfileImageDisplay($event, $e, 'avatar2')"  #fileInput></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage2}}" style="width: 20%">
                    </ion-item> -->

                    <!-- <label for="avatar">Avatar</label> -->
                    <div class="form-group">                        
                        <input type="file" id="avatar2" (change)="onFileChange($event, 'avatar2')" #fileInput>
                        <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">clear file</button>
                      </div>






                    <div class="eClaimSubTitle2">
                        <b>PROFESSIONAL CERTIFICATIONS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"CERTIFICATION"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION" [(ngModel)]="User_Certification_ngModel" placeholder="{{'Please fill the certifiation'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"YEAR"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION_YEAR" [(ngModel)]="User_CertificationYear_ngModel" placeholder="{{'Please fill the Year'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"GRADE"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION_GRADE" [(ngModel)]="User_CertificationGrade_ngModel" placeholder="{{'Please fill the Grade'}}"></ion-input>
                    </ion-item>                    

                    <!-- <ion-item>
                        <ion-label id="certificate_image" color="primary" stacked>ATTACHMENT</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item>-->

                    

                    <!-- <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                        <ion-input type="file" id="avatar3" accept="image/*" (change)="ProfileImageDisplay($event, $e, 'avatar3')"  #fileInput></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage3}}" style="width: 20%">
                    </ion-item> -->

                    <!-- <label for="avatar">Avatar</label> -->
                    <div class="form-group">                       
                        <input type="file" id="avatar3"  formControlName="ATTACHMENT_PROFESSIONAL" [(ngModel)]="User_CertificationAttachment_ngModel" (change)="onFileChange($event, 'avatar3')" #fileInput>
                        <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">clear file</button>
                      </div>
                      <!-- formControlName="ATTACHMENT_ID" [(ngModel)]="User_CertificationAttachment_ngModel" -->

                      <button ion-button icon-left (click)="AddProfessionalCertification()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">GRADE</th>
                                    <th class="lgl1">YEAR</th>
                                    <th class="lgl1">ATTACHEMENT</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let certificate of ProfessionalCertification; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{certificate.NAME}}</td>
                                    <td class="lgl1">{{certificate.GRADE}}</td>
                                    <td class="lgl1">{{certificate.YEAR}}</td>
                                    <td class="lgl1">{{certificate.ATTACHMENT}}</td>
                                    <!-- <td class="lgl1">MCA.Pdf</td> -->
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditProfessionalCertification(certificate.CERTIFICATE_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveProfessionalCertification(certificate.CERTIFICATE_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>








                    <div class="eClaimSubTitle2">
                        <b>RESIDENTIAL ADDRESS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"ADDRESS LINE 1"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS1" [(ngModel)]="User_Address1_ngModel" placeholder="{{'Please fill the address1'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"ADDRESS LINE 2"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS2" [(ngModel)]="User_Address2_ngModel" placeholder="{{'Please fill the address2'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CITY"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS3" [(ngModel)]="User_Address3_ngModel" placeholder="{{'Please fill the City'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"POST CODE"}}</ion-label>
                        <ion-input type="text" formControlName="USER_POSTCODE" [(ngModel)]="User_PostCode_ngModel" placeholder="{{'Please fill the Post Code'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"COUNTRY"}}</ion-label>
                        <ion-select formControlName="USER_COUNTRY" [(ngModel)]="User_Country_ngModel" placeholder="{{'Select Country'}}" (ionChange)="BindState('main_state', User_Country_ngModel, 'NAME')">
                            <ion-option *ngFor="let country of countries" [value]="country.COUNTRY_GUID">{{ country.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"STATE"}}</ion-label>
                        <ion-select formControlName="USER_STATE" [(ngModel)]="User_State_ngModel" placeholder="{{'Select State'}}">
                            <ion-option *ngFor="let state of states" [value]="state.STATE_GUID">{{ state.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>







                    <div class="eClaimSubTitle2">
                        <b>FAMILY DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"SPOUSE NAME"}}</ion-label>
                        <ion-input type="text" formControlName="SPOUSENAME" [(ngModel)]="User_Spouse_Name_ngModel" placeholder="{{'Please fill the Spouse Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"IC NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="SPOUSE_ICNUMBER" [(ngModel)]="User_Spouse_IcNumber_ngModel" placeholder="{{'Please fill the IC Number'}}"></ion-input>
                    </ion-item>

                    <button ion-button icon-left (click)="AddFamilyDetails()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">IC NUMBER</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let family of FamilyDetails; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{family.NAME}}</td>
                                    <td class="lgl1">{{family.ICNO}}</td>
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditFamilyDetails(family.SPOUSE_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveFamilyDetails(family.SPOUSE_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>

                    <ion-item class="text">
                        <ion-label stacked>{{"CHILD NAME"}}</ion-label>
                        <ion-input type="text" formControlName="CHILDNAME" [(ngModel)]="User_Child_Name_ngModel" placeholder="{{'Please fill the Child Name'}}"></ion-input>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"IC NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="CHILD_ICNUMBER" [(ngModel)]="User_Child_IcNumber_ngModel" placeholder="{{'Please fill the IC Number'}}"></ion-input>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"GENDER"}}</ion-label>
                        <ion-select formControlName="CHILD_GENDER" [(ngModel)]="User_Child_Gender_ngModel" placeholder="{{'Please Select Gender'}}">
                            <ion-option value="MALE">MALE</ion-option>
                            <ion-option value="FEMALE">FEMALE</ion-option>
                        </ion-select>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"SPOUSE"}}</ion-label>
                        <ion-select formControlName="SPOUSE_CHILD" [(ngModel)]="User_SpouseChild_ngModel" placeholder="{{'Please Select Spouse'}}">
                            <ion-option *ngFor="let family of FamilyDetails" [value]="family.NAME" selected="true">{{ family.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>


                    <button ion-button icon-left (click)="AddChildren()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">IC NUMBER</th>
                                    <th class="lgl1">GENDER</th>
                                    <th class="lgl1">SPOUSE</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let chilren of ChildrenDetails; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{chilren.NAME}}</td>
                                    <td class="lgl1">{{chilren.ICNO}}</td>
                                    <td class="lgl1">{{chilren.GENDER}}</td>
                                    <td class="lgl1">{{chilren.SPOUSE}}</td>
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditChildren(chilren.CHILD_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveChildren(chilren.CHILD_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>







                    <div class="eClaimSubTitle2">
                        <b>EMERGENCY CONTACT DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NAME 1"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NAME1" [(ngModel)]="User_EMG_CONTACT_NAME1_ngModel" placeholder="{{'Please fill the Contact Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"RELATIONSHIP"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_RELATIONSHIP" [(ngModel)]="User_EMG_RELATIONSHIP_ngModel" placeholder="{{'Please fill the Relationship'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NO1" [(ngModel)]="User_EMG_CONTACT_NO1_ngModel" placeholder="{{'Please fill the Contact No'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NAME 2"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NAME2" [(ngModel)]="User_EMG_CONTACT_NAME2_ngModel" placeholder="{{'Please fill the Contact Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"RELATIONSHIP"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_RELATIONSHIP2" [(ngModel)]="User_EMG_RELATIONSHIP2_ngModel" placeholder="{{'Please fill the Relationship'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NO2" [(ngModel)]="User_EMG_CONTACT_NO2_ngModel" placeholder="{{'Please fill the Contact Number'}}"></ion-input>
                    </ion-item>








                    <div class="eClaimSubTitle2">
                        <b>PAYROLL DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"EPF NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EPF_NUMBER" [(ngModel)]="User_EPF_NUMBER_ngModel" placeholder="{{'Please fill the Epf Number'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"INCOME TAX NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="INCOMETAX_NO" [(ngModel)]="User_INCOMETAX_NO_ngModel" placeholder="{{'Please fill the Income Tax No'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"BANK NAME"}}</ion-label>
                        <ion-select formControlName="BANK_NAME" [(ngModel)]="User_BANK_NAME_ngModel" placeholder="{{'Please Select Bank'}}">
                            <ion-option *ngFor="let bank of banks" value={{bank.BANK_GUID}}>{{bank.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"ACCOUNT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="ACCOUNT_NUMBER" [(ngModel)]="User_ACCOUNT_NUMBER_ngModel" placeholder="{{'Please fill the Account Number'}}"></ion-input>
                    </ion-item>


                   

                   <!-- <ion-item>
                        <button (click)='Save()' >{{ 'SUBMIT_BUTTON' | translate  }}</ion-button>
                         [disabled]="Userform.invalid || loading" ion-button round style="width:100px;"
                    </ion-item> -->

                    <button ion-button icon-left (click)="Save()">
                        {{ 'SUBMIT_BUTTON' | translate  }}
                    </button> 





                    <!-- <div class="btn">
                        <button ion-button class="bgColor-grey fontColor-white btnStyle1" (click)="Save()">{{"SUBMIT" | translate}}</button>
                    </div> -->
                    <!-- [disabled]="!Userform.valid" -->
                </form>
            </ion-list>
        </ion-card>

    </div>
    <!-- add Tenant form end-->


    <!-- edit user form start -->
    <div class="blackcontainer" *ngIf="EditUserClicked"></div>
    <div class="popup1" padding *ngIf="EditUserClicked">

        <ion-card class="cm">
            <ion-card-header class="icTitle headerColor-white ">

                <div class="icHeaderText">UPDATE USER</div>
                <button class="btnR" (click)="CloseUserClick()">
                    <ion-icon name="md-close"></ion-icon>
                </button>
            </ion-card-header>
            <ion-list class="scroll">
                <form [formGroup]="Userform">

                    <div class="eClaimSubTitle1">
                        <b>PERSONAL DETAILS</b>
                    </div>
                    <ion-item class="text">
                        <ion-label stacked>{{"NAME"}}</ion-label>
                        <ion-input type="text" formControlName="NAME" [(ngModel)]="User_Name_Edit_ngModel" placeholder="{{'Please fill the name of the user'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"EMAIL"}}</ion-label>
                        <ion-input type="text" formControlName="EMAIL" [(ngModel)]="User_Email_Edit_ngModel" placeholder="{{'Please fill the email of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"LOGINID"}}</ion-label>
                        <ion-input type="text" formControlName="LOGIN_ID" [(ngModel)]="User_LoginId_Edit_ngModel" placeholder="{{'Please fill the email of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"PASSWORD"}}</ion-label>
                        <ion-input type="password" formControlName="PASSWORD" [(ngModel)]="User_Password_Edit_ngModel" placeholder="{{'Please fill the email of the tenant'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"PERSONAL CONTACT NO"}}</ion-label>
                        <ion-input type="text" formControlName="CONTACT_NO" [(ngModel)]="User_PersonalNo_Edit_ngModel" placeholder="{{'Please fill the personal contact number'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"COMAPANY CONTACT NO"}}</ion-label>
                        <ion-input type="text" formControlName="COMPANY_CONTACT_NO" [(ngModel)]="User_CompanyNo_Edit_ngModel" placeholder="{{'Please fill in the HQ website'}}"></ion-input>
                    </ion-item>

                    <ion-item>

                        <ion-label stacked>{{"MARITAL STATUS"}}</ion-label>
                        <ion-select formControlName="MARITAL_STATUS" [(ngModel)]="User_Marital_Edit_ngModel" placeholder="{{'Please fill the marital status'}}">
                            <ion-option [value]="0">SINGLE</ion-option>
                            <ion-option [value]="1">MARRIED</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"STAFF ID"}}</ion-label>
                        <ion-input type="text" formControlName="PERSONAL_ID_TYPE" [(ngModel)]="User_StaffID_Edit_ngModel" placeholder="{{'Please fill the staff id'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"IC NO"}}</ion-label>
                        <ion-input type="text" formControlName="PERSONAL_ID" [(ngModel)]="User_ICNo_Edit_ngModel" placeholder="{{'Please fill the ic no'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"DATE OF BIRTH"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="DOB" [(ngModel)]="User_DOB_Edit_ngModel" placeholder="{{'Please choose your effective date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"GENDER"}}</ion-label>
                        <ion-select formControlName="GENDER" [(ngModel)]="User_Gender_Edit_ngModel" placeholder="{{'Please fill the gender'}}">
                            <ion-option [value]="1">MALE</ion-option>
                            <ion-option [value]="0">FEMALE</ion-option>
                        </ion-select>
                    </ion-item>

                    <!-- <ion-img [width]="imgWidth" [height]="imgHeight" 
                    src="http://api.zen.com.my/api/v2/files/eclaim/car1.jpg?api_key=cb82c1df0ba653578081b3b58179158594b3b8f29c4ee1050fda1b7bd91c3881"></ion-img> -->

                    <!-- <ion-img width="80" height="80" style="align-items: center" src="{{'http://api.zen.com.my/api/v2/files/eclaim/car1.jpg?api_key=cb82c1df0ba653578081b3b58179158594b3b8f29c4ee1050fda1b7bd91c3881'}}"></ion-img> -->
                    <img width="30px" height="80px" src="http://api.zen.com.my/api/v2/files/eclaim/car1.jpg?api_key=cb82c1df0ba653578081b3b58179158594b3b8f29c4ee1050fda1b7bd91c3881">
                    <!-- <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>                       
                        <ion-input type="file" id="avatar1"  (change)="ProfileImageDisplay($event, 'avatar1')"  #fileInput></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage}}" style="width: 20%">
                    </ion-item> -->

                    <!-- <ion-item>
                        <ion-label id="profile_image" color="primary" stacked>PROFILE PHOTO</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item>
                    <ion-item>
                        <img src="{{ProfileImage}}" style="width: 20%">
                    </ion-item>
                    <button ion-button icon-left (click)="UploadProfilePicture()" [disabled]="ProfileImage === null">
                        <ion-icon name="cloud-upload"></ion-icon>Upload
                    </button> -->

                    <div class="eClaimSubTitle2">
                        <b>EMPLOYMENT DETAILS</b>
                    </div>

                    <ion-item>
                        <ion-label stacked>{{"DESIGNATION"}}</ion-label>
                        <ion-select formControlName="DESIGNATION_GUID" [(ngModel)]="User_Designation_Edit_ngModel" placeholder="{{'Please fill the designation'}}">
                            <ion-option *ngFor="let designation of designations" value="{{designation.DESIGNATION_GUID}}" selected="true">{{designation.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>


                    <ion-item>
                        <ion-label stacked>{{"COMPANY"}}</ion-label>
                        <ion-select formControlName="TENANT_COMPANY_GUID" [(ngModel)]="User_Company_Edit_ngModel" placeholder="{{'Please fill the company'}}"
                            (ionChange)="GetBranch('tenant_company_site', User_Company_Edit_ngModel,'SITE_NAME')">
                            <ion-option *ngFor="let company of companies" [value]="company.TENANT_COMPANY_GUID" selected="true">{{company.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"DEPARTMENT"}}</ion-label>
                        <ion-select formControlName="DEPT_GUID" [(ngModel)]="User_Department_Edit_ngModel" placeholder="{{'Please fill in the Department'}}">
                            <ion-option *ngFor="let department of departments" value="{{department.DEPARTMENT_GUID}}" selected="true">{{department.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"JOIN DATE"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="JOIN_DATE" [(ngModel)]="User_JoinDate_Edit_ngModel" placeholder="{{'Please fill the join date'}}"></ion-datetime>
                        <!-- <ion-input type="text" formControlName="JOIN_DATE" [(ngModel)]="User_JoinDate_ngModel" placeholder="{{'Please fill the join date'}}"></ion-input> -->
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"CONFIRMATION DATE"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="CONFIRMATION_DATE" [(ngModel)]="User_ConfirmationDate_Edit_ngModel"
                            placeholder="{{'Please fill the confermation date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"RESIGNATION DATE"}}</ion-label>
                        <ion-datetime displayFormat="DD/MM/YYYY" formControlName="RESIGNATION_DATE" [(ngModel)]="User_ResignationDate_Edit_ngModel"
                            placeholder="{{'Please fill the Registration date'}}"></ion-datetime>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"BRANCH"}}</ion-label>
                        <ion-select formControlName="BRANCH" [(ngModel)]="User_Branch_Edit_ngModel" placeholder="{{'Please select Branch'}}">
                            <ion-option *ngFor="let branch of branches" [value]="branch.TENANT_COMPANY_SITE_GUID" selected="true">{{branch.SITE_NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"EMPLOYEE TYPE"}}</ion-label>
                        <ion-select formControlName="EMPLOYEE_TYPE" [(ngModel)]="User_EmployeeType_Edit_ngModel" placeholder="{{'Please fill in the Email'}}">
                            <ion-option value="0">Permanent</ion-option>
                            <ion-option value="1">Contract</ion-option>
                            <ion-option value="2">Temporary</ion-option>
                        </ion-select>
                    </ion-item>

                    <!-- <ion-item>
                        <ion-label stacked>{{"APPROVER1"}}</ion-label>
                        <ion-input type="text" formControlName="APPROVER1" [(ngModel)]="User_Approver1_Edit_ngModel" placeholder="{{'Please fill in the Email'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"APPROVER2"}}</ion-label>
                        <ion-input type="text" formControlName="APPROVER2" [(ngModel)]="User_Approver2_Edit_ngModel" placeholder="{{'Please fill in the Email'}}"></ion-input>
                    </ion-item> -->

                    <ion-item>
                        <ion-label stacked>{{"EMPLOYEE STATUS"}}</ion-label>
                        <ion-select formControlName="EMPLOYEE_STATUS" [(ngModel)]="User_Employment_Edit_ngModel" placeholder="{{'Please fill the employement status'}}">
                            <!-- <ion-option *ngFor="let empstatus of empstatuss" value="{{empstatus.value}}">{{empstatus.text}}</ion-option> -->
                            <ion-option value="0">Probation</ion-option>
                            <ion-option value="1">Confirmed</ion-option>
                            <ion-option value="2">Terminated</ion-option>
                        </ion-select>
                    </ion-item>






                    <div class="eClaimSubTitle2">
                        <b>EDUCATIONAL QUALIFICATION</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"HIGHEST QUALIFICATION"}}</ion-label>
                        <ion-select formControlName="HIGHEST_QUALIFICATION" [(ngModel)]="User_HighestQualification_Edit_ngModel" placeholder="{{'Select Highest Qualification'}}">
                            <ion-option *ngFor="let qualification of qualifications" [value]="qualification.QUALIFICATION_TYPE_GUID" selected="true">{{qualification.TYPE_NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"UNIVERSITY"}}</ion-label>
                        <ion-input type="text" formControlName="UNIVERSITY" [(ngModel)]="User_University_Edit_ngModel" placeholder="{{'Please fill the University'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"MAJOR"}}</ion-label>
                        <ion-input type="text" formControlName="MAJOR" [(ngModel)]="User_Major_Edit_ngModel" placeholder="{{'Please fill the Major'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"YEAR"}}</ion-label>
                        <ion-input type="text" formControlName="EDU_YEAR" [(ngModel)]="User_EduYear_Edit_ngModel" placeholder="{{'Please fill the Year'}}"></ion-input>
                    </ion-item>

                    <div class="form-group">                        
                        <input type="file" id="avatar2" (change)="onFileChange($event, 'avatar2')" #fileInput>
                        <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">clear file</button>
                      </div>

                    <!-- <ion-item>
                        <ion-label id="certificate_image" color="primary" stacked>ATTACHEMENT</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item>
                    <button ion-button icon-left (click)="UploadCertificate()">
                        <ion-icon name="cloud-upload"></ion-icon>ATTACH
                    </button> -->

                    <div class="eClaimSubTitle2">
                        <b>PROFESSIONAL CERTIFICATIONS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"CERTIFICATION"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION" [(ngModel)]="User_Certification_Edit_ngModel" placeholder="{{'Please fill the certifiation'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"YEAR"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION_YEAR" [(ngModel)]="User_CertificationYear_Edit_ngModel" placeholder="{{'Please fill the Year'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"GRADE"}}</ion-label>
                        <ion-input type="text" formControlName="CERTIFICATION_GRADE" [(ngModel)]="User_CertificationGrade_Edit_ngModel" placeholder="{{'Please fill the Grade'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"IMAGE"}}</ion-label>                        
                    </ion-item>

                    <!-- <div class="form-group">                       
                        <input type="file" id="avatar3"  formControlName="ATTACHMENT_PROFESSIONAL" [(ngModel)]="User_CertificationAttachment_Edit_ngModel" (change)="onFileChange($event, 'avatar3')" #fileInput>
                        <button type="button" class="btn btn-sm btn-default" (click)="clearFile()">clear file</button>
                      </div> -->

                    <!-- <ion-item>
                        <ion-label id="certificate_image" color="primary" stacked>ATTACHMENT</ion-label>
                        <ion-input type="file" accept="image/*" (change)="ProfileImageDisplay($event)"></ion-input>
                    </ion-item> -->

                    <button ion-button icon-left (click)="AddProfessionalCertificationForEdit()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">GRADE</th>
                                    <th class="lgl1">YEAR</th>
                                    <th class="lgl1">ATTACHEMENT</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let certificate of ProfessionalCertification; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{certificate.NAME}}</td>
                                    <td class="lgl1">{{certificate.GRADE}}</td>
                                    <td class="lgl1">{{certificate.YEAR}}</td>
                                    <td class="lgl1">{{certificate.ATTACHEMENT_ID}}</td>
                                    <!-- <td class="lgl1">MCA.Pdf</td> -->
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditProfessionalCertificationForEdit(certificate.CERTIFICATE_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveProfessionalCertification(certificate.CERTIFICATE_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>








                    <div class="eClaimSubTitle2">
                        <b>RESIDENTIAL ADDRESS</b>
                    </div>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS LINE 1"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS1" [(ngModel)]="User_Address1_Edit_ngModel" [value]="USER_ADDRESS1" placeholder="{{'Please fill the address1'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS LINE 2"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS2" [(ngModel)]="User_Address2_Edit_ngModel" [value]="USER_ADDRESS2" placeholder="{{'Please fill the address2'}}"></ion-input>
                    </ion-item>

                    <ion-item>
                        <ion-label stacked>{{"ADDRESS LINE 3"}}</ion-label>
                        <ion-input type="text" formControlName="USER_ADDRESS3" [(ngModel)]="User_Address3_Edit_ngModel" [value]="USER_ADDRESS3" placeholder="{{'Please fill the address3'}}"></ion-input>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"POST CODE"}}</ion-label>
                        <ion-input type="text" formControlName="USER_POSTCODE" [(ngModel)]="User_PostCode_Edit_ngModel" placeholder="{{'Please fill the Post Code'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"COUNTRY"}}</ion-label>
                        <ion-select formControlName="USER_COUNTRY" [(ngModel)]="User_Country_Edit_ngModel" placeholder="{{'Select Country'}}" (ionChange)="BindState('main_state', User_Country_Edit_ngModel,'NAME')">
                            <ion-option *ngFor="let country of countries" [value]="country.COUNTRY_GUID" selected="true">{{ country.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"STATE"}}</ion-label>
                        <ion-select formControlName="USER_STATE" [(ngModel)]="User_State_Edit_ngModel" placeholder="{{'Select State'}}">
                            <ion-option *ngFor="let state of states" [value]="state.STATE_GUID" selected="true">{{ state.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>


                    <div class="eClaimSubTitle2">
                        <b>FAMILY DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"SPOUSE NAME"}}</ion-label>
                        <ion-input type="text" formControlName="SPOUSENAME" [(ngModel)]="User_Spouse_Name_Edit_ngModel" placeholder="{{'Please fill the Spouse Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"IC NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="SPOUSE_ICNUMBER" [(ngModel)]="User_Spouse_IcNumber_Edit_ngModel" placeholder="{{'Please fill the IC Number'}}"></ion-input>
                    </ion-item>

                    <button ion-button icon-left (click)="AddFamilyDetailsForEdit()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">IC NUMBER</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let family of FamilyDetails; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{family.NAME}}</td>
                                    <td class="lgl1">{{family.ICNO}}</td>
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditFamilyDetailsForEdit(family.SPOUSE_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveFamilyDetails(family.SPOUSE_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>

                    <ion-item class="text">
                        <ion-label stacked>{{"CHILD NAME"}}</ion-label>
                        <ion-input type="text" formControlName="CHILDNAME" [(ngModel)]="User_Child_Name_Edit_ngModel" placeholder="{{'Please fill the Child Name'}}"></ion-input>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"IC NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="CHILD_ICNUMBER" [(ngModel)]="User_Child_IcNumber_Edit_ngModel" placeholder="{{'Please fill the IC Number'}}"></ion-input>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"GENDER"}}</ion-label>
                        <ion-select formControlName="CHILD_GENDER" [(ngModel)]="User_Child_Gender_Edit_ngModel" placeholder="{{'Please Select Gender'}}">
                            <ion-option value="MALE">MALE</ion-option>
                            <ion-option value="FEMALE">FEMALE</ion-option>
                        </ion-select>
                    </ion-item>
                    <ion-item class="text">
                        <ion-label stacked>{{"SPOUSE"}}</ion-label>
                        <ion-select formControlName="SPOUSE_CHILD" [(ngModel)]="User_SpouseChild_Edit_ngModel" placeholder="{{'Please Select Spouse'}}">
                            <ion-option *ngFor="let family of FamilyDetails" [value]="family.NAME">{{ family.NAME }}</ion-option>
                        </ion-select>
                    </ion-item>


                    <button ion-button icon-left (click)="AddChildrenForEdit()">
                        <ion-icon name="cloud-upload"></ion-icon>ADD
                    </button>

                    <ion-list>
                        <ion-item>
                            <table class="Tabler">
                                <tr class="linedsg TColor">
                                    <th class="lgl1 tblBrLeft">NO</th>
                                    <th class="lgl1">NAME</th>
                                    <th class="lgl1">IC NUMBER</th>
                                    <th class="lgl1">GENDER</th>
                                    <th class="lgl1">SPOUSE</th>
                                    <th class="lgl1 tblBrRight">ACTION</th>
                                </tr>

                                <tr class="col7" *ngFor="let chilren of ChildrenDetails; let i=index">
                                    <td class="lgl1">{{i+1}}</td>
                                    <td class="lgl1">{{chilren.NAME}}</td>
                                    <td class="lgl1">{{chilren.ICNO}}</td>
                                    <td class="lgl1">{{chilren.GENDER}}</td>
                                    <td class="lgl1">{{chilren.SPOUSE}}</td>
                                    <td class="lgl1 fColor">
                                        <button ion-button item-end (click)="EditChildrenForEdit(chilren.CHILD_GUID)">
                                            <ion-icon name="md-create"></ion-icon>
                                        </button>
                                        <button ion-button item-end (click)="RemoveChildren(chilren.CHILD_GUID)">
                                            <ion-icon name="md-close"></ion-icon>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </ion-item>
                    </ion-list>


                    <div class="eClaimSubTitle2">
                        <b>EMERGENCY CONTACT DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NAME 1"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NAME1" [(ngModel)]="User_EMG_CONTACT_NAME1_Edit_ngModel" placeholder="{{'Please fill the Contact Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"RELATIONSHIP"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_RELATIONSHIP" [(ngModel)]="User_EMG_RELATIONSHIP_Edit_ngModel" placeholder="{{'Please fill the Relationship'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NO1" [(ngModel)]="User_EMG_CONTACT_NO1_Edit_ngModel" placeholder="{{'Please fill the Contact No'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NAME 2"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NAME2" [(ngModel)]="User_EMG_CONTACT_NAME2_Edit_ngModel" placeholder="{{'Please fill the Contact Name'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"RELATIONSHIP"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_RELATIONSHIP2" [(ngModel)]="User_EMG_RELATIONSHIP2_Edit_ngModel" placeholder="{{'Please fill the Relationship'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"CONTACT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EMG_CONTACT_NO2" [(ngModel)]="User_EMG_CONTACT_NO2_Edit_ngModel" placeholder="{{'Please fill the Contact Number'}}"></ion-input>
                    </ion-item>


                    <div class="eClaimSubTitle2">
                        <b>PAYROLL DETAILS</b>
                    </div>

                    <ion-item class="text">
                        <ion-label stacked>{{"EPF NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="EPF_NUMBER" [(ngModel)]="User_EPF_NUMBER_Edit_ngModel" placeholder="{{'Please fill the Epf Number'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"INCOME TAX NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="INCOMETAX_NO" [(ngModel)]="User_INCOMETAX_NO_Edit_ngModel" placeholder="{{'Please fill the Income Tax No'}}"></ion-input>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"BANK NAME"}}</ion-label>
                        <ion-select formControlName="BANK_NAME" [(ngModel)]="User_BANK_NAME_Edit_ngModel" placeholder="{{'Please Select Bank'}}">
                            <ion-option *ngFor="let bank of banks" value={{bank.BANK_GUID}}>{{bank.NAME}}</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item class="text">
                        <ion-label stacked>{{"ACCOUNT NUMBER"}}</ion-label>
                        <ion-input type="text" formControlName="ACCOUNT_NUMBER" [(ngModel)]="User_ACCOUNT_NUMBER_Edit_ngModel" placeholder="{{'Please fill the Account Number'}}"></ion-input>
                    </ion-item>

                    <div class="btn">
                        <button ion-button class="bgColor-grey fontColor-white btnStyle1" (click)="Update(view_user_details[0].USER_GUID)">{{"SUBMIT" | translate}}</button>
                    </div>
                </form>

            </ion-list>
        </ion-card>

    </div>
    <!-- edit user form end -->

</ion-content>
